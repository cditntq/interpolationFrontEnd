/*! xdnphb-html-rong QL 2017-05-21 16:05:01 */
"use strict";PageInfo.register({type:"Obj",info:function(){var a={};return a.require={$:"jquery",layui:"layui",api:"/assets/js/components/common/data-api"},a.page=function(){var a={},b={},c={};return b.common4num=function(a){var b=[];a=a.results;var c=a.length;b.push('<div id="ntq-employ-job-num">'),b.push('<table class="layui-table" lay-even="" lay-skin="row">'),b.push("\t<thead>"),b.push("\t\t<tr>"),b.push("\t\t\t<th>姓名</th>"),b.push("\t\t\t<th>学历</th>"),b.push("\t\t\t<th>电话</th>"),b.push("\t\t\t<th>工作年限</th>"),b.push("\t\t</tr>"),b.push("\t</thead>"),b.push("\t<tbody>");for(var d=0;d<c;d++){var e=a[d];b.push("\t\t<tr>"),b.push("\t\t\t<td>"+e.jobSeekerName+"</td>"),b.push("\t\t\t<td>高级JAVA</td>"),b.push("\t\t\t<td>"+e.jobSeekerPhone+"</td>"),b.push("\t\t\t<td>"+e.recordOfFormalSchooling+"</td>"),b.push("\t\t</tr>")}return b.push("\t </tbody>"),b.push("</table>"),b.push("</div>"),b.join("")},b.common4update=function(a){var b=a.data,c=[];return c.push('<div id="ntq-employ-job-update">'),c.push('<form class="layui-form"  >'),c.push('<div class="layui-form-item"> <label class="layui-form-label">职位编号</label> <div class="layui-input-inline"> <input type="text" disabled="" name="positionNo" lay-verify="title" autocomplete="off" value="'+b.positionNo+'" class="layui-input"></div> </div>'),c.push('    <div class="layui-form-item">                                                                                                                                                            '),c.push('        <div class="layui-inline">                                                                                                                                                           '),c.push('            <label class="layui-form-label">有效期</label>                                                                                                                                   '),c.push('            <div class="layui-input-inline">                                                                                                                                                 '),c.push('                <input type="text" name="deadline" id="date" lay-verify="date"  value="'+b.deadline+'" placeholder="yyyy-mm-dd" autocomplete="off" class="layui-input" onclick="layui.laydate({elem: this})">            '),c.push("            </div>                                                                                                                                                                           "),c.push("        </div>                                                                                                                                                                               "),c.push('        <div class="layui-inline">                                                                                                                                                           '),c.push('            <label class="layui-form-label">职位名称</label>                                                                                                                                 '),c.push('            <div class="layui-input-inline">                                                                                                                                                 '),c.push('                <input type="text" name="positionName" lay-verify="title" autocomplete="off" value="'+b.positionName+'" placeholder="请输入标题" class="layui-input">                                                          '),c.push("            </div>                                                                                                                                                                           "),c.push("        </div>                                                                                                                                                                               "),c.push('        <div class="layui-inline">                                                                                                                                                           '),c.push('            <label class="layui-form-label">薪水范围(k)</label>                                                                                                                                 '),c.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),c.push('                <input type="text" name="lowSalary" placeholder="￥"  value="'+b.lowSalary+'" autocomplete="off" class="layui-input">                                                                                 '),c.push("            </div>                                                                                                                                                                           "),c.push('            <div class="layui-form-mid">-</div>                                                                                                                                              '),c.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),c.push('                <input type="text" name="highSalary" placeholder="￥" value="'+b.highSalary+'" autocomplete="off" class="layui-input">                                                                                 '),c.push("            </div>                                                                                                                                                                           "),c.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),c.push('                <input type="checkbox" name="isDiscussPersonally" title="面议" '+(1==b.isDiscussPersonally?"checked":"")+">                                                                                                                      "),c.push("            </div>                                                                                                                                                                           "),c.push("        </div>                                                                                                                                                                               "),c.push("    </div>                                                                                                                                                                                   "),c.push("                                                                                                                                                                                             "),c.push('    <div class="layui-form-item">                                                                                                                                                            '),c.push('        <div class="layui-inline">                                                                                                                                                           '),c.push('            <label class="layui-form-label">学历要求</label>                                                                                                                                 '),c.push('            <div class="layui-input-inline">                                                                                                                                                 '),c.push('<select name="qualificationsType" lay-filter="aihao">   '),c.push('     <option value="1"  '+(1==b.qualificationsType&&'selected=""')+'">高中</option>        '),c.push('     <option value="2"  '+(2==b.qualificationsType&&'selected=""')+'">高中</option>                    '),c.push('     <option value="3"  '+(3==b.qualificationsType&&'selected=""')+'">本科</option>                    '),c.push('     <option value="4"  '+(4==b.qualificationsType&&'selected=""')+'">硕士</option>                    '),c.push('     <option value="5"  '+(5==b.qualificationsType&&'selected=""')+'">博士</option>                    '),c.push('     <option value="6"  '+(6==b.qualificationsType&&'selected=""')+'">其他</option>                    '),c.push('     <option value="7"  '+(7==b.qualificationsType&&'selected=""')+'">不限</option>                    '),c.push(" </select>                                              "),c.push("            </div>                                                                                                                                                                           "),c.push("        </div>                                                                                                                                                                               "),c.push('        <div class="layui-inline">                                                                                                                                                           '),c.push('            <label class="layui-form-label">职位性质</label>                                                                                                                                 '),c.push('            <div class="layui-input-inline">                                                                                                                                                 '),c.push('                <select name="positionType" lay-filter="aihao">                                                                                                                                  '),c.push('                    <option value="1"  '+(1==b.positionType&&'selected=""')+">全职</option>    "),c.push('                    <option value="2"  '+(2==b.positionType&&'selected=""')+">兼职</option>  \t\t"),c.push('                    <option value="3"  '+(3==b.positionType&&'selected=""')+">实习</option>  \t\t\t"),c.push("                </select>                                                                                                                                                                    "),c.push("            </div>                                                                                                                                                                           "),c.push("        </div>                                                                                                                                                                               "),c.push('<div class="layui-inline">                                                                                      '),c.push('    <label class="layui-form-label">工作经验(年)</label>                                                        '),c.push('     <div class="layui-input-inline" style="width: 75px;">                                                      '),c.push('        <input type="number" name="lowWorkingLife" value="'+b.lowWorkingLife+'" placeholder="最低" autocomplete="off" class="layui-input">   '),c.push("    </div>                                                                                                      "),c.push('    <div class="layui-form-mid">-</div>                                                                         '),c.push('    <div class="layui-input-inline" style="width: 75px;">                                                       '),c.push('        <input type="number" name="highWorkingLife" value="'+b.highWorkingLife+'" placeholder="最高" autocomplete="off" class="layui-input">  '),c.push("    </div>                                                                                                      "),c.push("</div>"),c.push("    </div>                                                                                                                                                                                   "),c.push("                                                                                                                                                                                             "),c.push('    <div class="layui-form-item">                                                                                                                                                            '),c.push('        <label class="layui-form-label">工作地址</label>                                                                                                                                     '),c.push('        <div class="layui-input-block">                                                                                                                                                      '),c.push('            <input type="text" value="'+b.workAddress+'" name="workAddress" lay-verify="title" autocomplete="off" placeholder="" class="layui-input">                                                              '),c.push("        </div>                                                                                                                                                                               "),c.push("    </div>                                                                                                                                                                                   "),c.push("                                                                                                                                                                                             "),c.push('    <div class="layui-form-item layui-form-text">                                                                                                                                            '),c.push('        <label class="layui-form-label">职责描述</label>                                                                                                                                     '),c.push('        <div class="layui-input-block">                                                                                                                                                      '),c.push('            <textarea placeholder="" name="positionDesc" class="layui-textarea">'+b.positionDesc+"</textarea>                                                                                                               "),c.push("        </div>                                                                                                                                                                               "),c.push("    </div>                                                                                                                                                                                   "),c.push('    <div class="layui-form-item layui-form-text">                                                                                                                                            '),c.push('        <label class="layui-form-label">任职要求</label>                                                                                                                                     '),c.push('        <div class="layui-input-block">                                                                                                                                                      '),c.push('           <textarea placeholder=" " name="positionRequirements" class="layui-textarea">'+b.positionRequirements+"</textarea>                                                                                                         "),c.push("        </div>                                                                                                                                                                               "),c.push("    </div>                                                                                                                                                                                   "),c.push("                                                                                                                                                                                             "),c.push('    <div class="layui-form-item">                                                                                                                                                            '),c.push('      <div class="layui-input-block">                                                                                                                                                        '),c.push('        <button class="layui-btn" lay-submit lay-filter="ntq-employ-job-btn">立即提交</button>                                                                                                         '),c.push('        <button type="reset" class="layui-btn layui-btn-primary">重置</button>                                                                                                               '),c.push("      </div>                                                                                                                                                                                 "),c.push("    </div>                                                                                                                                                                                   "),c.push("</form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),c.push("</div>"),c.join("")},b.common4add=function(){var a=[];return a.push('<div id="ntq-employ-job-update">'),a.push('<form class="layui-form"  >'),a.push('    <div class="layui-form-item">                                                                                                                                                            '),a.push('        <div class="layui-inline">                                                                                                                                                           '),a.push('            <label class="layui-form-label">有效期</label>                                                                                                                                   '),a.push('            <div class="layui-input-inline">                                                                                                                                                 '),a.push('                <input type="text" name="deadline" id="date" lay-verify="date"   placeholder="yyyy-mm-dd" autocomplete="off" class="layui-input" onclick="layui.laydate({elem: this})">            '),a.push("            </div>                                                                                                                                                                           "),a.push("        </div>                                                                                                                                                                               "),a.push('        <div class="layui-inline">                                                                                                                                                           '),a.push('            <label class="layui-form-label">职位名称</label>                                                                                                                                 '),a.push('            <div class="layui-input-inline">                                                                                                                                                 '),a.push('                <input type="text" name="positionName" lay-verify="title" autocomplete="off"   placeholder="请输入标题" class="layui-input">                                                          '),a.push("            </div>                                                                                                                                                                           "),a.push("        </div>                                                                                                                                                                               "),a.push('        <div class="layui-inline">                                                                                                                                                           '),a.push('            <label class="layui-form-label">薪水范围(k)</label>                                                                                                                                 '),a.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),a.push('                <input type="text" name="lowSalary" placeholder="￥"    autocomplete="off" class="layui-input">                                                                                 '),a.push("            </div>                                                                                                                                                                           "),a.push('            <div class="layui-form-mid">-</div>                                                                                                                                              '),a.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),a.push('                <input type="text" name="highSalary" placeholder="￥"   autocomplete="off" class="layui-input">                                                                                 '),a.push("            </div>                                                                                                                                                                           "),a.push('            <div class="layui-input-inline" style="width: 32px;">                                                                                                                            '),a.push('                <input type="checkbox" name="isDiscussPersonally" title="面议" >                                                                                                                      '),a.push("            </div>                                                                                                                                                                           "),a.push("        </div>                                                                                                                                                                               "),a.push("    </div>                                                                                                                                                                                   "),a.push("                                                                                                                                                                                             "),a.push('    <div class="layui-form-item">                                                                                                                                                            '),a.push('        <div class="layui-inline">                                                                                                                                                           '),a.push('            <label class="layui-form-label">学历要求</label>                                                                                                                                 '),a.push('            <div class="layui-input-inline">                                                                                                                                                 '),a.push('<select name="qualificationsType" lay-filter="aihao">   '),a.push('     <option value="1"  >高中</option>        '),a.push('     <option value="2"  >高中</option>                    '),a.push('     <option value="3"  >本科</option>                    '),a.push('     <option value="4"  >硕士</option>                    '),a.push('     <option value="5"  >博士</option>                    '),a.push('     <option value="6"  >其他</option>                    '),a.push('     <option value="7"  >不限</option>                    '),a.push(" </select>                                              "),a.push("            </div>                                                                                                                                                                           "),a.push("        </div>                                                                                                                                                                               "),a.push('        <div class="layui-inline">                                                                                                                                                           '),a.push('            <label class="layui-form-label">职位性质</label>                                                                                                                                 '),a.push('            <div class="layui-input-inline">                                                                                                                                                 '),a.push('                <select name="positionType" lay-filter="aihao">                                                                                                                                  '),a.push('                    <option value="1"  >全职</option>    '),a.push('                    <option value="2"  >兼职</option>  \t\t'),a.push('                    <option value="3"  >实习</option>  \t\t\t'),a.push("                </select>                                                                                                                                                                    "),a.push("            </div>                                                                                                                                                                           "),a.push("        </div>                                                                                                                                                                               "),a.push('<div class="layui-inline">                                                                                      '),a.push('    <label class="layui-form-label">工作经验(年)</label>                                                        '),a.push('     <div class="layui-input-inline" style="width: 75px;">                                                      '),a.push('        <input type="number" name="lowWorkingLife"  placeholder="最低" autocomplete="off" class="layui-input">   '),a.push("    </div>                                                                                                      "),a.push('    <div class="layui-form-mid">-</div>                                                                         '),a.push('    <div class="layui-input-inline" style="width: 75px;">                                                       '),a.push('        <input type="number" name="highWorkingLife"   placeholder="最高" autocomplete="off" class="layui-input">  '),a.push("    </div>                                                                                                      "),a.push("</div>"),a.push("    </div>                                                                                                                                                                                   "),a.push("                                                                                                                                                                                             "),a.push('    <div class="layui-form-item">                                                                                                                                                            '),a.push('        <label class="layui-form-label">工作地址</label>                                                                                                                                     '),a.push('        <div class="layui-input-block">                                                                                                                                                      '),a.push('            <input type="text"   name="workAddress" lay-verify="title" autocomplete="off" placeholder="" class="layui-input">                                                              '),a.push("        </div>                                                                                                                                                                               "),a.push("    </div>                                                                                                                                                                                   "),a.push("                                                                                                                                                                                             "),a.push('    <div class="layui-form-item layui-form-text">                                                                                                                                            '),a.push('        <label class="layui-form-label">职责描述</label>                                                                                                                                     '),a.push('        <div class="layui-input-block">                                                                                                                                                      '),a.push('            <textarea placeholder="" name="positionDesc" class="layui-textarea"></textarea>                                                                                                               '),a.push("        </div>                                                                                                                                                                               "),a.push("    </div>                                                                                                                                                                                   "),a.push('    <div class="layui-form-item layui-form-text">                                                                                                                                            '),a.push('        <label class="layui-form-label">任职要求</label>                                                                                                                                     '),a.push('        <div class="layui-input-block">                                                                                                                                                      '),a.push('           <textarea placeholder=" " name="positionRequirements" class="layui-textarea"></textarea>                                                                                                         '),
a.push("        </div>                                                                                                                                                                               "),a.push("    </div>                                                                                                                                                                                   "),a.push("                                                                                                                                                                                             "),a.push('    <div class="layui-form-item">                                                                                                                                                            '),a.push('      <div class="layui-input-block">                                                                                                                                                        '),a.push('        <button class="layui-btn" lay-submit lay-filter="ntq-employ-job-btn">立即提交</button>                                                                                                         '),a.push('        <button type="reset" class="layui-btn layui-btn-primary">重置</button>                                                                                                               '),a.push("      </div>                                                                                                                                                                                 "),a.push("    </div>                                                                                                                                                                                   "),a.push("</form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a.push("</div>"),a.join("")},a.Global={pageNo:1,pageSize:2,type:0},b.common4list=function(b){for(var c=[],d=b.length,e=0;e<d;e++){var f=b[e];c.push("<tr>      "),c.push('  <th><input class="ntq-employ-job-condition-checked" type="checkbox" name="" title="" lay-skin="primary" data-po="'+f.id+'" ></th>'),c.push('\t<td><span class="ntq-employ-job-condition-po" data-po="'+f.id+'">'+f.positionNo+"<span></td>   "),c.push("\t<td>"+f.positionName+"</td>  "),c.push("\t<td>"+a.common4time({type:"model1",str:f.serverCreateDate})+"</td>   "),c.push('\t<td><span class="ntq-employ-job-condition-num">'+(String.HasText(f.resumeCount)?f.resumeCount:0)+"</span></td>  "),c.push("\t<td>"+a.common4time({type:"model1",str:f.publishTime})+"</td> "),c.push("</tr>        ")}return c.join("")},a.common4search=function(b){var c={};c.init=function(){a.Global.pageNo=1,a.Global.pageSize=2},c.next=function(){a.Global.pageNo+=1,a.Global.pageSize=2},c[b.type]()},a.common4time=function(a){if(!String.HasText(a.str))return"无";var b={},c="";return b.model1=function(){var b=new Date(a.str);c=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()},b[a.type](),c},a.update4evet=function(c){var d=$("input.ntq-employ-job-condition-checked");$("span.ntq-employ-job-condition-num").unbind("click").bind("click",function(){var a=function(a){layer.open({type:1,skin:"layui-layer-demo",area:["420px","240px"],content:b.common4num(a),success:function(){}})},d={pageNo:1,pageSize:15,params:{positionId:13}};c.queryJobSeekerInfoVoList(JSON.stringify(d),a)}),$("span.ntq-employ-job-condition-po").unbind("click").bind("click",function(){var d=$(this);c.getCompanyPositionInfoById({positionId:d.data("po")},function(d){layer.open({type:1,content:b.common4update({data:d.data}),area:["1080px","578px"],skin:"layui-layer-demo",success:function(){layui.use(["form","layedit","laydate","laypage","layer"],function(){var b=layui.form(),d=layui.layer,d=(layui.layedit,layui.laydate,layui.laypage,layui.layer);b.render(""),b.on("submit(ntq-employ-job-btn)",function(b){console.log(b);var e=b.field;return delete e.deadline,e.isDiscussPersonally="on"==e.isDiscussPersonally?1:2,e.postionStatus=a.Global.type,c.updateOrInsertCompanyPositionInfo(JSON.stringify(e),function(a){return d.msg(a.message),$("a.layui-layer-close").trigger("click"),!1}),!1})})}})})}),d.unbind("click").bind("click",function(){$(this);d.each(function(){$(this).attr("checked",!0)})})},b.layout=function(){return'<div id="ntq-employ-job"><div id="ntq-employ-job-search" class="common-box"><form class="layui-form" action=""><div class="layui-form-item"><div class="layui-inline"><label class="layui-form-label">职位名称</label><div class="layui-input-inline"><input type="text" name="positionName" autocomplete="off" class="layui-input"></div></div><div class="layui-inline"><label class="layui-form-label">处理状态</label><div class="layui-input-inline"><select name="postionStatus" lay-filter="aihao"><option value="1" selected="">待审核</option><option value="2">已发布</option><option value="3">拒绝</option><option value="4">已下架</option><option value="5">待下架</option></select></div><button class="layui-btn" lay-submit="" lay-filter="ntq-employ-job-condition-sbtn">搜索</button></div></div></form></div><div class="layui-form"><div id="ntq-employ-job-condition" class="common-box"><button class="layui-btn layui-btn-normal" id="ntq-employ-job-condition-add">新增职位</button> <button class="layui-btn layui-btn-warm" id="ntq-employ-job-condition-update">重新发布</button> <button id="ntq-employ-job-condition-down" class="layui-btn layui-btn-danger">下架</button><table class="layui-table" lay-even="" lay-skin="row"><colgroup><col width="150"><col width="150"><col width="200"><col></colgroup><thead><tr><th></th><th>职位编号</th><th>职位名称</th><th>创建时间</th><th>求职投放数量</th><th>发布时间</th></tr></thead><tbody id="ntq-employ-job-condition-table"></tbody></table><div id="ntq-employ-job-condition-pag"></div></div></div></div>'},c.data=function(){var a={};return a.HtmUtil=b,a},c.show=function(){var c=this.api.rq();layui.use(["form","layedit","laydate","laypage","layer"],function(){var d=layui.form(),e=(layui.layer,layui.layedit,layui.laydate,layui.laypage);layui.layer;d.render(""),d.on("submit(ntq-employ-job-btn)",function(a){return a.field.isDiscussPersonally="on"==a.field.isDiscussPersonally?1:2,c.addCompanyPositionInfo(JSON.stringify(a.field),function(a){}),!1}),d.on("submit(ntq-employ-job-condition-sbtn)",function(f){a.common4search({type:"init"});var g=f.field,h=$("#ntq-employ-job-condition-table");g.positionName="a";var i={pageNo:a.Global.pageNo,pageSize:a.Global.pageSize,params:{positionName:g.positionName,publishTime:g.publishTime,postionStatus:g.postionStatus}};return a.Global.type=g.postionStatus,function f(g){c.queryCompanyPositionInfoListByCondition(JSON.stringify(i),function(j){var k=j.totalRecord;k=parseInt(k/2)+(k%2>0?1:0),h.html(b.common4list(j.results)),a.update4evet(c),d.render(""),"init"==g&&e({cont:"ntq-employ-job-condition-pag",pages:k,jump:function(b,c){c||(a.Global.pageNo=b.curr,i.pageNo=b.curr,f("next"))}})})}("init"),!1})}),$("#ntq-employ-job-condition-add").unbind("click").bind("click",function(){layer.open({type:1,content:b.common4add(),area:["1080px","511px"],skin:"layui-layer-demo",success:function(){layui.use(["form","layedit","laydate","laypage","layer"],function(){var a=layui.form(),b=layui.layer,b=(layui.layedit,layui.laydate,layui.laypage,layui.layer);a.render(""),a.on("submit(ntq-employ-job-btn)",function(a){return console.log(a.field),a.field.isDiscussPersonally="on"==a.field.isDiscussPersonally?1:2,c.addCompanyPositionInfo(JSON.stringify(a.field),function(a){b.msg(a.message),$("a.layui-layer-close").trigger("click")}),!1})})}})}),$("#ntq-employ-job-condition-down").unbind("click").bind("click",function(){var a={positionId:2};c.withDrawCompanyPositionInfo(a,function(a){console.log(a)})})},c},a}});